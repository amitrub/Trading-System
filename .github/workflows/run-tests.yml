name: test


on:
  # Trigger the workflow on push or pull request,
  # but only for the main branch
  push:
    branches:
      - Version-2
jobs: 
  build: 
    runs-on: 
      - ubuntu-latest
    steps: 
      - 
        uses: actions/checkout@v2
      - 
        name: "Set up JDK 8"
        uses: actions/setup-java@v2
        with: 
          java-version: "8"
      - 
        name: "Cache Maven packages"
        uses: actions/cache@v2
        with: 
          key: "${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}"
          path: ~/.m2
          restore-keys: "${{ runner.os }}-m2"
      - 
        name: "Run tests with Maven"
        run: "mvn -B test --file ./version_1/Trading-System/pom.xml"
